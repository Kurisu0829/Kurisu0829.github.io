---
title: Java八股
date: 2024-08-12 16:43:00 +0800
categories: [学习, 八股]
tags: [八股]
---

## 一. String、StringBuffer、StringBuilder 的区别？
1. 首先，String是不可变的，StringBuffer、StringBuilder是可变的。  
String类中保存字符串的数组被 final 修饰且为私有的，并且String 类没有提供/暴露修改这个字符串的方法，同时String 类被 final 修饰导致其不能被继承，进而避免了子类破坏 String 不可变。  
StringBuilder 与 StringBuffer 都继承自 AbstractStringBuilder 类，在 AbstractStringBuilder 中也是使用字符数组保存字符串，不过没有使用 final 和 private 关键字修饰，最关键的是这个 AbstractStringBuilder 类还提供了很多修改字符串的方法比如 append 方法。
2. String 中的对象是不可变的，也就可以理解为常量，线程安全。StringBuffer 对方法加了同步锁或者对调用的方法加了同步锁，所以是线程安全的。StringBuilder 并没有对方法进行加同步锁，所以是非线程安全的。
3. 每次对 String 类型进行改变的时候，都会生成一个新的 String 对象，然后将指针指向新的 String 对象。StringBuffer和StringBuilder每次都是对对象本身进行操作，而不是生成新的对象并改变对象引用。相同情况下使用 StringBuilder 相比使用 StringBuffer 仅能获得 10%~15% 左右的性能提升，但却要冒多线程不安全的风险。

## 二. 接口和抽象类的区别
1. 接口和抽象类都不能直接实例化，只能被实现（接口）或继承（抽象类）后才能创建具体的对象。接口和抽象类都可以包含抽象方法。抽象方法没有方法体，必须在子类或实现类中实现。
2. 接口主要用于对类的行为进行约束，你实现了某个接口就具有了对应的行为。抽象类主要用于代码复用，强调的是所属关系。
3. 一个类只能继承一个类（包括抽象类），因为 Java 不支持多继承。但一个类可以实现多个接口，一个接口也可以继承多个其他接口。
4. 接口中的成员变量只能是 public static final 类型的，不能被修改且必须有初始值。抽象类的成员变量可以有任何修饰符（private, protected, public），可以在子类中被重新定义或赋值。
5. Java 8 之前，接口中的方法默认是 public abstract ，也就是只能有方法声明。自 Java 8 起，可以在接口中定义 default（默认） 方法和 static （静态）方法。 自 Java 9 起，接口可以包含 private 方法。  
抽象类可以包含抽象方法和非抽象方法。抽象方法没有方法体，必须在子类中实现。非抽象方法有具体实现，可以直接在抽象类中使用或在子类中重写。

## 三. Java常见的异常类
1. 在 Java 中，所有的异常都有一个共同的祖先 java.lang 包中的 Throwable 类。Throwable 类有两个重要的子类:Exception和Error。
2. Exception是指程序本身可以处理的异常，可以通过 catch 来进行捕获。Exception 又可以分为 Checked Exception (受检查异常，必须处理) 和 Unchecked Exception (不受检查异常，可以不处理)。
3. 除了RuntimeException及其子类以外，其他的Exception类及其子类都属于受检查异常。RuntimeException 及其子类都统称为非受检查异常，常见的有NullPointerException；IllegalArgumentException(参数错误比如方法入参类型错误)；NumberFormatException（字符串转换为数字格式错误，IllegalArgumentException的子类）；ArrayIndexOutOfBoundsException；ClassCastException（类型转换错误）；ArithmeticException（算术错误）；SecurityException （安全错误比如权限不够）；UnsupportedOperationException(不支持的操作错误比如重复创建同一用户)
4. Error 属于程序无法处理的错误，这些异常发生时，Java 虚拟机（JVM）一般会选择线程终止。

## 四. 面向对象三大特性
1. 封装：  
封装是指把一个对象的状态信息（也就是属性）隐藏在对象内部，不允许外部对象直接访问对象的内部信息。但是可以提供一些可以被外界访问的方法来操作属性。
2. 继承：  
继承是使用已存在的类的定义作为基础建立新类，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。通过使用继承，可以快速地创建新的类，可以提高代码的重用，程序的可维护性，节省大量创建新类的时间 ，提高我们的开发效率。  
子类拥有父类对象所有的属性和方法（包括私有属性和私有方法），但是父类中的私有属性和方法子类是无法访问，只是拥有。子类可以拥有自己属性和方法，即子类可以对父类进行扩展。子类可以用自己的方式实现父类的方法。
3. 多态：  
表示一个对象具有多种的状态，具体表现为父类的引用指向子类的实例。  
对象类型和引用类型之间具有继承（类）/实现（接口）的关系；引用类型变量发出的方法调用的到底是哪个类中的方法，必须在程序运行期间才能确定；多态不能调用“只在子类存在但在父类不存在”的方法；如果子类重写了父类的方法，真正执行的是子类重写的方法，如果子类没有重写父类的方法，执行的是父类的方法。

## 五. 重写和重载的区别
1. 重载：  
重载发生在同一个类中（或者父类和子类之间），方法名必须相同，参数类型不同、个数不同、顺序不同，方法返回值和访问修饰符可以不同。重载就是同一个类中多个同名方法根据不同的传参来执行不同的逻辑处理。
1. 重写：  
重写发生在运行期，是子类对父类的允许访问的方法的实现过程进行重新编写。  
其方法名、参数列表必须相同，子类方法返回值类型应比父类方法返回值类型更小或相等，抛出的异常范围小于等于父类，访问修饰符范围大于等于父类；如果父类方法访问修饰符为 private/final/static 则子类就不能重写该方法，但是被 static 修饰的方法能够被再次声明；构造方法无法被重写。  
总的来讲，遵循“两同两小一大”的规则，“两同”即方法名相同、形参列表相同；“两小”指的是子类方法返回值类型应比父类方法返回值类型更小或相等，子类方法声明抛出的异常类应比父类方法声明抛出的异常类更小或相等；“一大”指的是子类方法的访问权限应比父类方法的访问权限更大或相等。